/* =========================================
   1. 변수 및 기본 설정 (Root Variables & Reset)
   ========================================= */
   :root {
    /* Color Palette: Greenery & Vivid Mix */
    --bg-main: #F7F9F8;         /* 아주 연한 세이지 그레이 배경 */
    --text-dark: #2E4A35;       /* 딥 포레스트 그린 (기본 텍스트) */
    --text-light: #667B6E;      /* 연한 텍스트 */
    --accent-green: #93C572;    /* 피스타치오 그린 (포인트 1) */
    --accent-orange: #E07A5F;   /* 테라코타 오렌지 (비비드 포인트 2) */
    --accent-brown: #5D4037;    /* 초콜릿 브라운 (강조) */
    --white: #ffffff;

    /* Fonts */
    --font-heading: 'Playfair Display', serif;
    --font-body: 'Noto Sans KR', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
    font-family: var(--font-body);
    background-color: var(--bg-main);
    color: var(--text-dark);
    line-height: 1.7;
    overflow-x: hidden;
}

h1, h2, h3, h4 {
    font-family: var(--font-heading);
    color: var(--text-dark);
    font-weight: 700;
}

a { text-decoration: none; color: inherit; }
ul, ol { list-style: none; }

/* 유틸리티 클래스 */
.section-container { max-width: 1200px; margin: 100px auto; padding: 0 30px; }
.text-center { text-align: center; }
.sub-tag { 
    display: inline-block; font-weight: 700; font-size: 0.9rem; margin-bottom: 10px; 
    letter-spacing: 1px; color: var(--accent-orange);
}
.sub-tag.greenery { color: var(--accent-green); }
.sub-tag.vivid { color: var(--accent-orange); }

.btn-primary {
    display: inline-block; padding: 15px 40px; background-color: var(--accent-orange);
    color: var(--white); border-radius: 50px; font-weight: 700; transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(224, 122, 95, 0.3);
}
.btn-primary:hover { background-color: #d66a4f; transform: translateY(-3px); }


/* =========================================
   2. 헤더 및 네비게이션 (Header & Nav)
   ========================================= */
header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 25px 50px; position: absolute; width: 100%; z-index: 100;
    background: transparent; transition: background 0.3s;
}
header.scrolled { background: rgba(247, 249, 248, 0.95); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: fixed; top:0;}

.logo { font-family: var(--font-heading); font-size: 1.8rem; font-weight: 700; color: var(--text-dark); }
.nav-links a { margin-left: 30px; font-weight: 500; font-size: 1.1rem; transition: color 0.3s; }
.nav-links a:hover, .nav-links a.active { color: var(--accent-orange); }
.mobile-menu-btn { display: none; font-size: 1.5rem; cursor: pointer; }


/* =========================================
   3. 히어로 섹션 (Hero Section)
   ========================================= */
.hero {
    height: 90vh; display: flex; align-items: center; padding: 0 50px;
    /* 배경 이미지: 감성적인 키친/음식 사진 */
    background: linear-gradient(to right, rgba(46, 74, 53, 0.3), rgba(46, 74, 53, 0.1)), url('https://images.unsplash.com/photo-1495521821757-a1efb6729352?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
    background-size: cover; background-position: center; background-attachment: fixed; /* 패럴랙스 */
}

.hero-content { max-width: 600px; color: var(--white); }
.hero-title { font-size: 4rem; line-height: 1.2; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
.hero-subtitle { font-size: 1.3rem; margin-bottom: 40px; opacity: 0.9; font-family: var(--font-body); }

/* 히어로 등장 애니메이션 */
.hero-content > * { opacity: 0; transform: translateY(30px); animation: slideUpFade 1s forwards; }
.hero-title { animation-delay: 0.3s; }
.hero-subtitle { animation-delay: 0.5s; }
.btn-primary { animation-delay: 0.7s; }


/* =========================================
   4. 트렌드 배너 (YouTube Section)
   ========================================= */
.trend-section { margin-top: -100px; /* 히어로 섹션과 겹치게 */ z-index: 10; position: relative; }
.video-wrapper {
    max-width: 900px; margin: 40px auto 0; border-radius: 25px; overflow: hidden;
    box-shadow: 0 30px 60px rgba(46, 74, 53, 0.2); transition: transform 0.4s ease;
}
.video-wrapper:hover { transform: scale(1.02); }
.video-container { position: relative; padding-bottom: 56.25%; height: 0; }
.video-container a { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }


/* =========================================
   5. 메인 특집 레시피 (Featured Recipe - 두쫀쿠)
   ========================================= */
/* --- [수정] 메인 레시피 레이아웃 (상단: 이미지+재료 / 하단: 순서) --- */

/* 상단 그리드 (이미지와 재료만 나란히) */
.recipe-top-layout {
    display: grid;
    grid-template-columns: 1.2fr 0.8fr; /* 이미지를 좀 더 넓게 */
    gap: 50px;
    align-items: center; /* 세로 중앙 정렬 */
    margin-bottom: 80px; /* 순서 섹션과의 간격 */
}

/* 재료 박스 스타일 보강 */
.recipe-ingredients-only .checklist {
    margin-top: 20px;
}
.recipe-ingredients-only h3 {
    font-size: 1.8rem;
    margin-bottom: 10px;
    border-bottom: 3px solid var(--accent-green);
    display: inline-block;
    padding-bottom: 5px;
}

/* --- [신규] 중앙 정렬된 조리 순서 섹션 --- */
.step-block-centered {
    max-width: 800px; /* 너무 넓게 퍼지지 않도록 폭 제한 */
    margin: 0 auto;   /* 화면 중앙 정렬 */
}

.step-block-centered h3 {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 60px;
    color: var(--text-dark);
    position: relative;
}

/* 제목 아래 작은 장식 선 */
.step-block-centered h3::after {
    content: '';
    display: block;
    width: 60px;
    height: 4px;
    background: var(--accent-orange);
    margin: 15px auto 0;
    border-radius: 2px;
}

/* 순서 리스트 스타일 (중앙 정렬 버전) */
.centered-list li {
    display: flex;
    flex-direction: column;
    align-items: center; /* 내용물 가운데 정렬 */
    text-align: center;  /* 텍스트 가운데 정렬 */
    margin-bottom: 80px; /* 단계별 간격 넓게 */
    position: relative;
}

/* 단계 연결선 (점선) */
.centered-list li:not(:last-child)::after {
    content: '';
    position: absolute;
    bottom: -50px;
    width: 2px;
    height: 30px;
    border-left: 3px dotted #ddd;
}

.step-text-wrap {
    flex-direction: column; /* 번호와 텍스트를 위아래로 */
    align-items: center;
    margin-bottom: 30px;
    max-width: 600px;
}

.step-num {
    margin-right: 0;
    margin-bottom: 15px;
    font-size: 3rem;
    color: var(--accent-orange); /* 번호 색상 변경해서 강조 */
    opacity: 1;
}

.step-text-wrap p {
    font-size: 1.15rem;
    word-break: keep-all; /* 한글 단어 끊김 방지 */
}

.step-img-wrap {
    width: 100%;
    max-width: 600px; /* 사진 크기 적당히 제한 */
}

.step-img-wrap img {
    height: auto; /* 비율 유지 */
    aspect-ratio: 16 / 9; /* 와이드 비율 고정 */
    border-radius: 20px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
}

/* --- 반응형 수정 (모바일) --- */
@media (max-width: 768px) {
    .recipe-top-layout {
        grid-template-columns: 1fr; /* 모바일엔 일자로 */
        gap: 30px;
    }
    .step-block-centered h3 {
        font-size: 1.5rem;
        margin-bottom: 40px;
    }
    .centered-list li {
        margin-bottom: 50px;
    }
    .step-num {
        font-size: 2rem;
    }
}

/* =========================================
   6. 다른 추천 레시피 (Recipe Cards)
   ========================================= */
.recipe-card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 50px; }
.recipe-card {
    background: var(--white); border-radius: 25px; overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05); transition: all 0.3s ease;
    border: 1px solid transparent;
}
.recipe-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); border-color: var(--accent-green); }

.card-thumb { position: relative; height: 220px; overflow: hidden; }
.card-thumb img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
.recipe-card:hover .card-thumb img { transform: scale(1.1); }
.card-tag {
    position: absolute; top: 20px; left: 20px; background: var(--accent-orange);
    color: var(--white); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 700;
}
.card-content { padding: 25px; }
.card-content h3 { font-size: 1.4rem; margin-bottom: 15px; font-family: var(--font-body); }
.card-content p { color: var(--text-light); font-size: 0.95rem; margin-bottom: 25px; }
.card-link { font-weight: 700; color: var(--accent-green); transition: color 0.2s; }
.card-link:hover { color: var(--text-dark); }


/* =========================================
   7. 푸터 (Footer)
   ========================================= */
footer { background: var(--text-dark); color: var(--white); padding: 50px 30px; text-align: center; margin-top: 100px;}
.footer-logo { font-family: var(--font-heading); font-size: 1.5rem; font-weight: 700; margin-bottom: 20px; }
.footer-content p { opacity: 0.7; font-size: 0.9rem; }


/* =========================================
   8. 애니메이션 & 반응형 (Animations & Responsive)
   ========================================= */
/* 키프레임 정의 */
@keyframes slideUpFade {
    to { opacity: 1; transform: translateY(0); }
}

/* 스크롤 등장 클래스 (JS 연동) */
.reveal { opacity: 0; transform: translateY(60px); transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.reveal.active { opacity: 1; transform: translateY(0); }

/* 반응형 미디어 쿼리 */
@media (max-width: 1024px) {
    .hero-title { font-size: 3rem; }
    .section-header h2 { font-size: 2.2rem; }
    .recipe-detail-grid { grid-template-columns: 1fr; gap: 40px; }
    .main-recipe-img { height: 400px; object-fit: cover; }
}

@media (max-width: 768px) {
    header { padding: 20px; }
    .nav-links { display: none; /* 모바일 메뉴 추후 구현 필요 */ }
    .mobile-menu-btn { display: block; }
    .hero { padding: 0 20px; height: 80vh; }
    .hero-title { font-size: 2.5rem; }
    .section-container { margin: 60px auto; padding: 0 20px; }
    .trend-section { margin-top: 30px; }
    .recipe-detail-grid { gap: 30px; }
    .flavor-bar .segment span { font-size: 0.7rem; }
}


/* =========================================
   [NEW] 메인 레시피 입체적 레이아웃 스타일
   ========================================= */

/* 1. 상단 그리드 (좌: 비주얼 / 우: 재료) */
.recipe-overview-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    margin-bottom: 80px;
    align-items: stretch; /* 높이 맞춤 */
}

/* 좌측: 이미지 & 맛 그래프 */
.overview-left {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.img-wrapper {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
.img-wrapper img {
    width: 100%;
    display: block;
    transition: transform 0.5s;
}
.img-wrapper:hover img { transform: scale(1.05); }

.flavor-badge {
    position: absolute; top: 20px; left: 20px;
    background: var(--accent-orange); color: white;
    padding: 5px 15px; border-radius: 20px; font-weight: bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* 맛 그래프 카드 */
.flavor-card {
    background: white; padding: 25px; border-radius: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.05);
    border-left: 5px solid var(--accent-green);
}
.flavor-card h4 { margin-bottom: 15px; color: var(--text-light); font-size: 0.9rem; letter-spacing: 1px; text-transform: uppercase;}

.bar-row { display: flex; align-items: center; margin-bottom: 12px; }
.bar-row .label { width: 60px; font-size: 0.9rem; font-weight: bold; }
.bar-track { flex-grow: 1; height: 10px; background: #eee; border-radius: 5px; overflow: hidden; }
.bar-fill { height: 100%; border-radius: 5px; }
.bar-fill.pistachio { background: var(--accent-green); }
.bar-fill.chocolate { background: var(--accent-brown); }
.bar-fill.crunch { background: var(--accent-orange); }


/* 우측: 준비물 노트 스타일 */
.ingredients-note {
    background: #fff;
    padding: 40px;
    border-radius: 20px;
    height: 100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    border: 1px solid #eee;
    position: relative;
}
/* 노트 스프링 효과 장식 (선택사항) */
.ingredients-note::before {
    content: ''; position: absolute; top: 0; left: 40px; width: 100%; height: 10px;
    background: repeating-linear-gradient(90deg, #ddd 0, #ddd 2px, transparent 2px, transparent 20px);
    top: -5px; height: 10px; width: calc(100% - 80px);
}

.note-header { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px dashed #eee; }
.note-header h3 { font-size: 1.8rem; margin-bottom: 5px; }
.note-header p { color: var(--text-light); }

.fancy-check li { margin-bottom: 15px; }
.fancy-check .check-item {
    display: flex; align-items: center; cursor: pointer;
    font-size: 1.1rem; transition: color 0.3s;
}
.fancy-check input { width: 22px; height: 22px; margin-right: 15px; accent-color: var(--accent-green); }
.fancy-check .check-item:hover { color: var(--accent-green); }

.note-tip {
    margin-top: 30px; background: #FFF8E1; color: #5D4037;
    padding: 15px; border-radius: 10px; font-size: 0.9rem;
    line-height: 1.5;
}


/* 2. 하단 조리 순서 (타임라인 스타일) */
.recipe-steps-container { margin-top: 50px; }
.recipe-steps-container h3 { font-size: 1.8rem; margin-bottom: 40px; border-left: 5px solid var(--accent-orange); padding-left: 20px; }

.step-timeline {
    position: relative;
    padding-left: 30px; /* 왼쪽 여백 확보 */
    border-left: 2px solid #ddd; /* 세로 타임라인 선 */
}

.step-row {
    position: relative;
    margin-bottom: 60px;
}

/* 동그라미 번호 마커 */
.step-marker {
    position: absolute;
    left: -51px; /* 선 위에 오도록 위치 조정 */
    top: 0;
    width: 40px; height: 40px;
    background: var(--accent-orange); color: white;
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    font-weight: bold; font-family: var(--font-heading);
    box-shadow: 0 0 0 5px var(--bg-main); /* 주변 여백 효과 */
}

/* 내용 박스 (텍스트 + 이미지) */
.step-content {
    display: flex;
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 5px 20px rgba(0,0,0,0.03);
    transition: transform 0.3s;
}
.step-content:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }

.step-text { flex: 1; padding: 40px; display: flex; flex-direction: column; justify-content: center; }
.step-text h4 { font-size: 1.4rem; margin-bottom: 15px; color: var(--accent-green); }
.step-text p { font-size: 1.1rem; color: #555; word-break: keep-all; }

.step-image { width: 350px; min-height: 250px; }
.step-image img { width: 100%; height: 100%; object-fit: cover; }


/* 반응형 (모바일) */
@media (max-width: 900px) {
    .recipe-overview-grid { grid-template-columns: 1fr; }
    .step-content { flex-direction: column-reverse; } /* 모바일은 그림이 위로 가게 하려면 column-reverse */
    .step-image { width: 100%; height: 250px; }
    .step-timeline { padding-left: 20px; border-left: none; } /* 선 제거 */
    .step-marker { position: static; margin-bottom: 10px; width: 50px; height: 50px; box-shadow: none; }
}

.video-container.video-link-style {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 비율 유지 */
    height: 0;
    overflow: hidden;
    background-color: #000; /* 여백 발생 시 배경을 검은색으로 처리 */
    border-radius: 15px;
}

.thumb-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* 이미지 중앙 정렬 */
    width: 100%;
    height: 100%;
    
    /* 핵심 수정 부분 */
    object-fit: contain; /* 이미지가 잘리지 않고 전체가 다 나오게 함 */
    /* 만약 꽉 채우고 싶다면 object-fit: cover; 를 사용하세요 */
}